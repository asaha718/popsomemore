{"version":3,"sources":["webpack://popsomemore/./src/scripts/balloon.js","webpack://popsomemore/./src/scripts/player.js","webpack://popsomemore/./src/scripts/projectile.js","webpack://popsomemore/./src/scripts/game.js","webpack://popsomemore/./src/index.js"],"names":["Balloon","x","y","type","speedX","speedY","r","this","c_width","c_height","speed","maxSpeed","moveLeft","moveUp","gameOver","ctx","beginPath","arc","Math","PI","fillStyle","fill","closePath","moveBalloon","drawBalloon","Player","dimensions","iconX","width","iconY","height","rightPressed","leftPressed","fillRect","key","drawPlayer","Projectile","pos_x","pos_y","fired","strokeStyle","lineWidth","stroke","drawProjectile","Projectiles","Balloons","spawnX","spawnY","spawnMini","shoot","leftBtn","document","querySelector","rightBtn","spaceBtn","PopSomeMore","canvas","getContext","firstBalloonSpawnX","firstBalloonSpawnY","player","balloons","push","getRndInteger","projectiles","registerEvents","spawnBalloon","score","level","highScore","localStorage","getItem","checkHighScore","bind","addEventListener","keyDownHandler","keyUpHandler","e","movePlayer","style","backgroundColor","code","reset","stopPlayer","x1","x2","y1","y2","r1","r2","dsx","dsy","sqrt","doubleBalloon","font","fillText","setItem","clearRect","drawEndMsg","drawScore","drawLevel","drawHighScore","length","forEach","balloon","i","arr","projectile","j","arr2","animate","collisionDetection","splice","AddNewBalloons","moveProjectile","requestAnimationFrame","num","balloonSpawnX","min","max","floor","random","openingScreen","game","getElementById","window","onkeydown","keyCode","display"],"mappings":"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","file":"main.js","sourcesContent":["// const CONSTANTS= { \n//     DX: getRndInteger(0.5,3.5), \n//     DY: getRndInteger(0.5,3.5)\n// }\n\nexport default class Balloon{ \n    constructor(x, y, type ,speedX,speedY,r = 68){ \n        // this.dimensions= dimensions; \n        this.x = x; \n        this.y = y;\n        this.c_width= 480; \n        this.c_height= 620; \n        this.r= r; \n        // this.width = width;\n        // this.height = height;\n        // this.image = new Image();\n        // this.image.src = src\n        this.type= type;\n        this.speed= 2; \n        this.speedX =speedX \n        this.speedY = speedY\n        this.maxSpeed = 1.3\n        this.moveLeft= false;   \n        this.moveUp= false;  \n        this.gameOver=false\n      \n    }\n\n\n    drawBalloon(ctx){\n        // ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height); \n        ctx.beginPath();\n        ctx.arc(this.x, this.y, this.r, 0, Math.PI*2);\n        ctx.fillStyle = \"#c47de8\";\n        ctx.fill();\n        ctx.closePath(); \n    }\n\n    moveBalloon(){ \n        if(this.x + this.r >= this.c_width || this.x  <=  this.r) {\n            this.speedX = -1 * this.speedX;\n        }\n        if(this.y  <=  this.r) {\n            this.speedY = -1 * this.speedY;\n        }else if (this.y + this.r >= this.c_height){ \n            this.gameOver = true;\n        }\n        if(this.type == 'firstBalloon')\n        {\n          \n            this.x += this.speedX;  \n            this.y += this.speedY;\n        }else{\n            if(this.type == 'mini-balloon-left')\n            {\n                this.x -= this.speedX;  \n                this.y += this.speedY;\n            }\n            else{\n                this.x += this.speedX;  \n                this.y += this.speedY;\n            }\n        }\n      \n    }\n\n    animate(ctx){\n        this.moveBalloon(); \n        this.drawBalloon(ctx);\n    } \n} \n\n","const CONSTANTS= { \n    PLAYER_WIDTH: 15, \n    PLAYER_HEIGHT: 45, \n}; \n\nexport default class Player{ \n    constructor(dimensions){ \n        this.dimensions= dimensions\n        this.iconX=(this.dimensions.width - CONSTANTS.PLAYER_WIDTH)/2; \n        this.iconY= this.dimensions.height - CONSTANTS.PLAYER_HEIGHT;\n        this.rightPressed = false;\n        this.leftPressed = false; \n    }\n\n    drawPlayer(ctx){ \n        ctx.beginPath() \n        ctx.fillRect(this.iconX, \n            this.iconY, \n            CONSTANTS.PLAYER_WIDTH, \n            CONSTANTS.PLAYER_HEIGHT\n        )\n        ctx.fillStyle = \"#0095DD\";\n        ctx.fill();\n        ctx.closePath();\n\n        if(this.rightPressed) {\n            this.iconX += 7;\n            if (this.iconX + CONSTANTS.PLAYER_WIDTH > this.dimensions.width){\n                this.iconX = this.dimensions.width - CONSTANTS.PLAYER_WIDTH;\n            }\n        }\n        else if(this.leftPressed) {\n            this.iconX -= 7;\n            if (this.iconX < 0){\n                this.iconX = 0;\n            }\n        }\n    }\n\n    movePlayer(key){ \n        if(key === \"Right\" || key === \"ArrowRight\"){ \n            this.rightPressed = true\n        } else if ( key=== \"Left\" || key === \"ArrowLeft\"){ \n            this.leftPressed = true\n        }\n    }\n\n    stopPlayer(){ \n        this.rightPressed = false; \n        this.leftPressed = false; \n    }\n\n    animate(ctx){ \n        this.drawPlayer(ctx); \n    }\n}","const CONSTANTS= { \n    RADIUS: 2 \n}\n\nexport default class Projectile{ \n    constructor(pos_x, pos_y,type){ \n        this.pos_x= pos_x; \n        this.pos_y= pos_y;\n        this.fired= false;\n        this.type = type   \n    }\n\n    drawProjectile(ctx, x, y){ \n        ctx.strokeStyle = \"#000\";\n        ctx.beginPath();\n        ctx.arc(this.pos_x, this.pos_y, CONSTANTS.RADIUS, 0, 2 * Math.PI);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = \"red\";\n        ctx.stroke();\n\n        // if (this.fired){ \n        //     this.pos_y -= 5\n        //     if(this.pos_y <= 0){ \n        //         // this.pos_x= x; \n        //         // this.pos_y= y;\n        //         this.fired= false;  \n        //     }\n        // }else{\n        //     this.pos_x= x; \n        //     this.pos_y= y; \n        // } \n            \n    }\n\n    moveProjectile(){ \n        this.pos_y -= 5\n    }\n\n\n    animate(ctx, x, y){ \n        this.drawProjectile(ctx, x, y)\n    }\n}","import Balloon from \"./balloon\";\nimport Player from \"./player\";\nimport Projectile from \"./projectile\";\n\nlet Projectiles = [];\nlet Balloons = [];\nlet spawnX = 0;\nlet spawnY = 0;\nlet spawnMini = false;\nlet shoot = false;\nlet gameOver = false;\n\n//selectors;\nconst leftBtn = document.querySelector(\".left\");\nconst rightBtn = document.querySelector(\".right\");\nconst spaceBtn = document.querySelector(\".space\");\n\nexport default class PopSomeMore {\n  constructor(canvas) {\n    this.ctx = canvas.getContext(\"2d\");\n    this.dimensions = { width: canvas.width, height: canvas.height };\n    this.firstBalloonSpawnX = this.dimensions.width / 2;\n    this.firstBalloonSpawnY = 80;\n    this.player = new Player(this.dimensions);\n    this.balloons = Balloons.push(\n      new Balloon(\n        this.firstBalloonSpawnX,\n        this.firstBalloonSpawnY,\n        \"firstBalloon\",\n        getRndInteger(0.5, 0.9),\n        getRndInteger(0.5, 0.9)\n      )\n    ); // create array of balloon instances\n    this.projectiles = Projectiles.push(\n      new Projectile(this.player.iconX, this.player.iconY, \"firstProjectile\")\n    );\n    this.registerEvents();\n    this.spawnBalloon = false;\n    this.score = 0;\n    this.level = 1;\n    this.highScore= localStorage.getItem('highScore') || 0; \n    this.checkHighScore= this.checkHighScore.bind(this); \n  }\n\n  registerEvents() {\n    document.addEventListener(\"keydown\", this.keyDownHandler.bind(this), false);\n    document.addEventListener(\"keyup\", this.keyUpHandler.bind(this), false);\n  }\n\n  keyDownHandler(e) {\n    if (e.key === \"Right\" || e.key === \"ArrowRight\") {\n      this.player.movePlayer(e.key);\n      rightBtn.style.backgroundColor = \"#bea0da\";\n    } else if (e.key === \"Left\" || e.key === \"ArrowLeft\") {\n      this.player.movePlayer(e.key);\n      leftBtn.style.backgroundColor = \"#bea0da\";\n    } else if (e.code === \"Space\") {\n      shoot = true;\n      spaceBtn.style.backgroundColor = \"#bea0da\";\n    } else if (e.code === \"Enter\") {\n      if (gameOver) {\n        this.reset();\n        gameOver = false;\n        return;\n      } else {\n        return;\n      }\n    }\n  }\n\n  keyUpHandler(e) {\n    if (e.key === \"Right\" || e.key === \"ArrowRight\") {\n      this.player.stopPlayer();\n      rightBtn.style.backgroundColor = \"blueviolet\";\n    } else if (e.key === \"Left\" || e.key === \"ArrowLeft\") {\n      this.player.stopPlayer();\n      leftBtn.style.backgroundColor = \"blueviolet\";\n    } else if (e.code === \"Space\") {\n      shoot = false;\n      spaceBtn.style.backgroundColor = \"blueviolet\";\n    }\n  }\n\n  collisionDetection(x1, x2, y1, y2, r1, r2) {\n    let dsx = x2 - x1;\n    let dsy = y2 - y1;\n    let distance = Math.sqrt(dsx * dsx + dsy * dsy);\n    if (distance < r1 + r2) {\n      this.score++;\n      spawnX = x1;\n      spawnY = y1;\n\n      if (spawnMini) {\n        this.doubleBalloon();\n        spawnMini = false;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  doubleBalloon() {\n    Balloons.push(\n      new Balloon(\n        spawnX,\n        spawnY,\n        \"mini-balloon-right\",\n        getRndInteger(0.5, 0.9),\n        getRndInteger(0.5, 0.9),\n        34\n      )\n    );\n    Balloons.push(\n      new Balloon(\n        spawnX,\n        spawnY,\n        \"mini-balloon-left\",\n        getRndInteger(0.5, 0.9),\n        getRndInteger(0.5, 0.9),\n        34\n      )\n    );\n  }\n\n  drawScore() {\n    this.ctx.font = \"16px Arial\";\n    this.ctx.fillStyle = \"#0095DD\";\n    this.ctx.fillText(\"Score: \" + this.score, 8, 20);\n  }\n\n  drawHighScore(){ \n    this.ctx.font = \"16px Arial\";\n    this.ctx.fillStyle = \"#0095DD\";\n    this.ctx.fillText(\n      \"High Score: \" + this.highScore,\n      8,\n      this.dimensions.height - 20\n    );\n  }\n\n  drawEndMsg() {\n    this.ctx.font = \"25px Arial\";\n    this.ctx.fillStyle = \"#0095DD\";\n    this.ctx.fillText(\n      \"GAME OVER\",\n      this.dimensions.width / 2 - 78,\n      this.dimensions.height / 4\n    );\n    this.ctx.fillText(\n      \"Click Enter to Play Again\",\n      this.dimensions.width / 2 - 140,\n      this.dimensions.height / 2\n    );\n  }\n\n  drawLevel() {\n    this.ctx.font = \"16px Arial\";\n    this.ctx.fillStyle = \"#0095DD\";\n    this.ctx.fillText(\"Level: \" + this.level, this.dimensions.width - 100, 20);\n  }\n\n  checkHighScore(){ \n    if (this.score > localStorage.getItem(\"highScore\")){ \n      localStorage.setItem(\"highScore\", this.score);\n      this.highScore= this.score; \n    }\n  }\n\n  reset() {\n    this.ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height);\n    Projectiles = [];\n    Balloons = [];\n    this.balloons = Balloons.push(\n      new Balloon(\n        this.firstBalloonSpawnX,\n        this.firstBalloonSpawnY,\n        \"firstBalloon\",\n        getRndInteger(0.5, 0.9),\n        getRndInteger(0.5, 0.9)\n      )\n    );\n    this.projectiles = Projectiles.push(\n      new Projectile(this.player.iconX, this.player.iconY, \"firstProjectile\")\n    );\n    this.firstBalloonSpawnX = this.dimensions.width / 2;\n    this.firstBalloonSpawnY = 80;\n    this.spawnBalloon = false;\n    this.score = 0;\n    this.level = 1;\n  }\n\n  animate() {\n    if (gameOver) {\n      this.ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height);\n      this.checkHighScore(); \n      this.drawEndMsg();\n      this.drawScore();\n      this.drawLevel();\n      this.drawHighScore(); \n      return;\n    }\n\n    this.ctx.clearRect(0, 0, this.dimensions.width, this.dimensions.height);\n\n    if (Projectiles.length != 0 && Balloons.length != 0) {\n      Balloons.forEach((balloon, i, arr) => {\n        Projectiles.forEach((projectile, j, arr2) => {\n          balloon.animate(this.ctx);\n\n          if (balloon.type == \"firstBalloon\") spawnMini = true;\n          if (\n            balloon.type == \"mini-balloon-left\" ||\n            balloon.type == \"mini-balloon-right\"\n          )\n            spawnMini = false;\n\n          if (\n            this.collisionDetection(\n              balloon.x,\n              projectile.pos_x,\n              balloon.y,\n              projectile.pos_y,\n              balloon.r,\n              2\n            )\n          ) {\n            arr.splice(i, 1);\n            i--;\n            arr2.splice(j, 1);\n            j--;\n          }\n        });\n      });\n    }\n\n    if (Balloons.length == 0) {\n      if (!gameOver) {\n        this.level++;\n      }\n      if (this.level == 2) {\n        this.AddNewBalloons(2);\n      }\n      if (this.level == 3) {\n        this.AddNewBalloons(3);\n      }\n    }\n\n    Balloons.forEach((balloon) => {\n      if (balloon.gameOver == true) {\n        gameOver = true;\n      }\n    });\n\n    if (shoot) {\n      Projectiles.push(\n        new Projectile(this.player.iconX, this.player.iconY, \"missile\")\n      );\n      shoot = false;\n    }\n\n    if (Projectiles.length != 0) {\n      Projectiles.forEach((projectile) => {\n        if (projectile.type == \"missile\") {\n          projectile.moveProjectile();\n          projectile.animate(this.ctx, this.player.x, this.player.y);\n        }\n      });\n    }\n\n    this.drawScore();\n    this.drawLevel();\n    this.drawHighScore(); \n\n    this.player.animate(this.ctx);\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  AddNewBalloons(num) {\n    for (let i = 0; i < num; i++) {\n      let balloonSpawnX = getRndInteger(0, this.dimensions.width);\n      Balloons.push(\n        new Balloon(\n          balloonSpawnX,\n          this.firstBalloonSpawnY,\n          \"firstBalloon\",\n          getRndInteger(0.5, 0.9),\n          getRndInteger(0.5, 0.9)\n        )\n      );\n    }\n  }\n}\n\nfunction getRndInteger(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n","import PopSomeMore from \"./scripts/game\";\nimport \"./styles/index.css\";\nconst openingScreen = document.querySelector(\"#opening\");\nconst canvas = document.getElementById(\"balloon-game\");\nconst game = new PopSomeMore(canvas);\n\nwindow.onkeydown = function (e) {\n  if (e.keyCode === 13) { //click enter to start\n    openingScreen.style.display = \"none\";\n    game.animate();\n  }\n};\n"],"sourceRoot":""}