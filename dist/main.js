!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(){function i(t,s,n,o,l){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:68;e(this,i),this.x=t,this.y=s,this.c_width=480,this.c_height=620,this.r=h,this.type=n,this.speed=2,this.speedX=o,this.speedY=l,this.maxSpeed=1.3,this.moveLeft=!1,this.moveUp=!1,this.gameOver=!1}var s,n;return s=i,(n=[{key:"drawBalloon",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.r,0,2*Math.PI),e.fillStyle="#c47de8",e.fill(),e.closePath()}},{key:"moveBalloon",value:function(){(this.x+this.r>=this.c_width||this.x<=this.r)&&(this.speedX=-1*this.speedX),this.y<=this.r?this.speedY=-1*this.speedY:this.y+this.r>=this.c_height&&(this.gameOver=!0),"firstBalloon"==this.type?(this.x+=this.speedX,this.y+=this.speedY):"mini-balloon-left"==this.type?(this.x-=this.speedX,this.y+=this.speedY):(this.x+=this.speedX,this.y+=this.speedY)}},{key:"animate",value:function(e){this.moveBalloon(),this.drawBalloon(e)}}])&&t(s.prototype,n),i}();function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dimensions=t,this.iconX=(this.dimensions.width-15)/2,this.iconY=this.dimensions.height-45,this.rightPressed=!1,this.leftPressed=!1}var t,i;return t=e,(i=[{key:"drawPlayer",value:function(e){e.beginPath(),e.fillRect(this.iconX,this.iconY,15,45),e.fillStyle="#0095DD",e.fill(),e.closePath(),this.rightPressed?(this.iconX+=7,this.iconX+15>this.dimensions.width&&(this.iconX=this.dimensions.width-15)):this.leftPressed&&(this.iconX-=7,this.iconX<0&&(this.iconX=0))}},{key:"movePlayer",value:function(e){"Right"===e||"ArrowRight"===e?this.rightPressed=!0:"Left"!==e&&"ArrowLeft"!==e||(this.leftPressed=!0)}},{key:"stopPlayer",value:function(){this.rightPressed=!1,this.leftPressed=!1}},{key:"animate",value:function(e){this.drawPlayer(e)}}])&&s(t.prototype,i),e}();function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(t,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos_x=t,this.pos_y=i,this.fired=!1,this.type=s}var t,i;return t=e,(i=[{key:"drawProjectile",value:function(e,t,i){e.strokeStyle="#000",e.beginPath(),e.arc(this.pos_x,this.pos_y,2,0,2*Math.PI),e.lineWidth=1,e.strokeStyle="red",e.stroke()}},{key:"moveProjectile",value:function(){this.pos_y-=5}},{key:"animate",value:function(e,t,i){this.drawProjectile(e,t,i)}}])&&o(t.prototype,i),e}();function h(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=[],a=[],c=0,d=0,f=!1,u=!1,y=!1,p=document.querySelector(".left"),v=document.querySelector(".right"),w=document.querySelector(".space"),m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t.getContext("2d"),this.dimensions={width:t.width,height:t.height},this.firstBalloonSpawnX=this.dimensions.width/2,this.firstBalloonSpawnY=80,this.player=new n(this.dimensions),this.balloons=a.push(new i(this.firstBalloonSpawnX,this.firstBalloonSpawnY,"firstBalloon",g(.5,.9),g(.5,.9))),this.projectiles=r.push(new l(this.player.iconX,this.player.iconY,"firstProjectile")),this.registerEvents(),this.spawnBalloon=!1,this.score=0,this.level=1}var t,s;return t=e,(s=[{key:"registerEvents",value:function(){document.addEventListener("keydown",this.keyDownHandler.bind(this),!1),document.addEventListener("keyup",this.keyUpHandler.bind(this),!1)}},{key:"keyDownHandler",value:function(e){if("Right"===e.key||"ArrowRight"===e.key)this.player.movePlayer(e.key),v.style.backgroundColor="#bea0da";else if("Left"===e.key||"ArrowLeft"===e.key)this.player.movePlayer(e.key),p.style.backgroundColor="#bea0da";else if("Space"===e.code)u=!0,w.style.backgroundColor="#bea0da";else if("Enter"===e.code)return y?(this.reset(),void(y=!1)):void 0}},{key:"keyUpHandler",value:function(e){"Right"===e.key||"ArrowRight"===e.key?(this.player.stopPlayer(),v.style.backgroundColor="blueviolet"):"Left"===e.key||"ArrowLeft"===e.key?(this.player.stopPlayer(),p.style.backgroundColor="blueviolet"):"Space"===e.code&&(u=!1,w.style.backgroundColor="blueviolet")}},{key:"collisionDetection",value:function(e,t,i,s,n,o){var l=t-e,h=s-i;return Math.sqrt(l*l+h*h)<n+o&&(this.score++,c=e,d=i,f&&(this.doubleBalloon(),f=!1),!0)}},{key:"doubleBalloon",value:function(){a.push(new i(c,d,"mini-balloon-right",g(.5,.9),g(.5,.9),34)),a.push(new i(c,d,"mini-balloon-left",g(.5,.9),g(.5,.9),34))}},{key:"drawScore",value:function(){this.ctx.font="16px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText("Score: "+this.score,8,20)}},{key:"drawEndMsg",value:function(){this.ctx.font="25px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText("GAME OVER",this.dimensions.width/2-78,this.dimensions.height/4),this.ctx.fillText("Click Enter to Play Again",this.dimensions.width/2-140,this.dimensions.height/2)}},{key:"drawLevel",value:function(){this.ctx.font="16px Arial",this.ctx.fillStyle="#0095DD",this.ctx.fillText("Level: "+this.level,this.dimensions.width-100,20)}},{key:"reset",value:function(){this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),r=[],a=[],this.balloons=a.push(new i(this.firstBalloonSpawnX,this.firstBalloonSpawnY,"firstBalloon",g(.5,.9),g(.5,.9))),this.projectiles=r.push(new l(this.player.iconX,this.player.iconY,"firstProjectile")),this.firstBalloonSpawnX=this.dimensions.width/2,this.firstBalloonSpawnY=80,this.spawnBalloon=!1,this.score=0,this.level=1}},{key:"animate",value:function(){var e=this;if(y)return this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.drawEndMsg(),this.drawScore(),void this.drawLevel();this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),0!=r.length&&0!=a.length&&a.forEach((function(t,i,s){r.forEach((function(n,o,l){t.animate(e.ctx),"firstBalloon"==t.type&&(f=!0),"mini-balloon-left"!=t.type&&"mini-balloon-right"!=t.type||(f=!1),e.collisionDetection(t.x,n.pos_x,t.y,n.pos_y,t.r,2)&&(s.splice(i,1),i--,l.splice(o,1),o--)}))})),0==a.length&&(y||this.level++,2==this.level&&this.AddNewBalloons(2),3==this.level&&this.AddNewBalloons(3)),a.forEach((function(e){1==e.gameOver&&(y=!0)})),u&&(r.push(new l(this.player.iconX,this.player.iconY,"missile")),u=!1),0!=r.length&&r.forEach((function(t){"missile"==t.type&&(t.moveProjectile(),t.animate(e.ctx,e.player.x,e.player.y))})),this.drawScore(),this.drawLevel(),this.player.animate(this.ctx),requestAnimationFrame(this.animate.bind(this))}},{key:"AddNewBalloons",value:function(e){for(var t=0;t<e;t++){var s=g(0,this.dimensions.width);a.push(new i(s,this.firstBalloonSpawnY,"firstBalloon",g(.5,.9),g(.5,.9)))}}}])&&h(t.prototype,s),e}();function g(e,t){return Math.floor(Math.random()*(t-e))+e}var k=document.querySelector("#opening"),b=new m(document.getElementById("balloon-game"));window.onkeydown=function(e){13===e.keyCode&&(k.style.display="none",b.animate())}}();
//# sourceMappingURL=main.js.map